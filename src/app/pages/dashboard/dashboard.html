<div class="dashboard-container">
  <h1>ElectricDashboard</h1>
  <p class="welcome">Welcome back, {{ username() }}!</p>

  <!-- Address Selector and Bills Table Section -->
  <div class="bills-section">
    <app-service-address-selector
      (addressesLoaded)="onAddressesLoaded($event)"
      (addressSelected)="onAddressSelected($event)">
    </app-service-address-selector>

    <div class="bills-and-chart-container">
      <div class="bills-table-container">
        <app-bill-table [bills]="bills()" [loading]="loadingBills()"></app-bill-table>
      </div>

      <div class="chart-container">
        @if (bills().length > 0) {
          <app-consumption-chart [chartData]="getChartData()"></app-consumption-chart>
        } @else {
          <div class="no-chart">No bill data available for chart</div>
        }
      </div>
    </div>
  </div>

  <!-- Menu Grid -->
  <div class="menu-grid">
    <nav class="menu-container">
      <div class="menu-item">
        <a routerLink="/dashboard/profile">
          <div class="menu-icon" aria-hidden="true">ðŸ‘¤</div>
          <h3>Profile</h3>
        </a>
      </div>

      <div class="menu-item">
        <a routerLink="/dashboard/billing">
          <div class="menu-icon" aria-hidden="true">ðŸ“Š</div>
          <h3>Data Entry</h3>
        </a>
      </div>

      <div class="menu-item">
        <a routerLink="/reports/overview">
          <div class="menu-icon" aria-hidden="true">ðŸ“ˆ</div>
          <h3>Reports</h3>
        </a>
      </div>

      <div class="menu-item logout-item">
        <a (click)="logout()">
          <div class="menu-icon" aria-hidden="true">ðŸšª</div>
          <h3>Logout</h3>
        </a>
      </div>
    </nav>
  </div>
</div>
